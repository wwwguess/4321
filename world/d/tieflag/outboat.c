#include <room.h>  
inherit ROOM;
void create()
{
  set("short","方舟外");
  set("long",@LONG
骤眼望去，但见池中碧波粼粼，四面青山绿树，好一片山光水色，但定睛一望，
才发现这一片池水宽广不过十余丈，四面的青山绿水不过是画在壁上的丹青图画，
只是画得委实太过逼真，远近分明，景致宛如，颜色更是鲜艳欲滴，使山色看来更
如覆苍翠，就白云飘渺间那几只引吭长唳的天鹅，也画得似要破壁飞出。再瞧池面
粼粼绿波之上，也有几只白鹅浮沉其间，还有一艘小巧玲珑的方舟飘浮水上，只是
方舟四面黑纱低垂几达水面，谁也瞧不清舟中情况，只瞧见一缕轻烟带着一阵清香
之气飘渺自垂帘中四散而出。
LONG
  );
  	set("exits/south" ,__DIR__"blkroom");
    set("objects",([
    	__DIR__"npc/zhuo" : 1,
    	__DIR__"npc/feng" : 1,
    ]) );

    setup();
 }
void reset()
{   
	object *inv;
	int i,no_reset;
	inv=all_inventory(this_object());
	no_reset=0;
	for (i=0;i<sizeof(inv);i++)
	{
	    if(base_name(inv[i])==__DIR__"npc/lishi")
		{
			if (!inv[i]->is_fighting())                  
		    	destruct(inv[i]);
		    else
		    	no_reset=1;
		}
		else
		if(base_name(inv[i])==__DIR__"npc/feng2" )
		{
			if (!inv[i]->is_fighting())
				destruct(inv[i]);
			else  
				no_reset=1;
		}
	}
	if(!no_reset) ::reset();
}